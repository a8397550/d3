<!DOCTYPE html>
<html>

<head>
    <title>d3 5.15.1</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        .text {
            text-indent: 2em;
        }

        .pre {
            white-space: pre-wrap;
            background-color: #eee;
            border: 1px solid #ccc;
        }

        #root {
        }
    </style>
    <script src="../lib/d3.js" type="text/javascript"></script>
</head>

<body>
    <a href="../index.html">首页</a>
    <br />
    <div id="root"></div>

    <script>
        var body = d3.select("#root");
        var duration = 3000;

        var div = body.append("div")
            .style("position", "absolute")
            .classed("box", true)
            .style("background-color", "steelblue")
            .style("color", "white")
            .text("waiting")
            .transition()
            .on("start", function() {
                console.log(arguments);
                d3.select(this).text(function(d, i) {
                    return "transitioning"
                })
            })
            .on("end", function() {
                console.log(arguments);
                d3.select(this).text(function(d, i) {
                    return "done"
                })
            })
            .duration(duration)
            .delay(1000)
            .style("margin-left", "600px")
    </script>
</body>

</html>